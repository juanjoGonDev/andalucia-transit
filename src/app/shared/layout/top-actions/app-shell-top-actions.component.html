<div class="shell-actions">
  <div class="shell-actions__container">
    <div class="shell-actions__shell">
      <div class="shell-actions__buttons">
        <div class="shell-actions__menu">
          <div
            appAccessibleButton
            class="shell-actions__button shell-actions__button--menu"
            [class.shell-actions__button--active]="menuOpen()"
            [appAccessibleButtonPressed]="menuOpen()"
            [appAccessibleButtonExpanded]="menuOpen()"
            [appAccessibleButtonHasPopup]="menuPopupRole"
            (appAccessibleButtonActivated)="toggleMenu()"
            [attr.aria-label]="menuLabelKey | translate"
            [attr.tabindex]="focusableTabIndex"
            (keydown.escape)="closeMenu()"
          >
            <span class="material-symbols-outlined shell-actions__button-icon">menu</span>
          </div>
          <div class="shell-actions__panel" *ngIf="menuOpen()">
            <ul class="shell-actions__list" role="menu">
              <li class="shell-actions__item" *ngFor="let entry of menuEntries()">
                <div
                  appAccessibleButton
                  class="shell-actions__menu-button"
                  [appAccessibleButtonDisabled]="entry.disabled"
                  appAccessibleButtonRole="menuitem"
                  [attr.tabindex]="entry.disabled ? disabledTabIndex : focusableTabIndex"
                  (appAccessibleButtonActivated)="handleMenuEntry(entry)"
                >
                  <span class="shell-actions__menu-label">{{ entry.labelKey | translate }}</span>
                  <span *ngIf="entry.disabled" class="shell-actions__menu-status">
                    {{ menuInProgressKey | translate }}
                  </span>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
