<app-interactive-card
  [removeAriaLabel]="removeActionKey | translate"
  (primaryActivated)="onOpen()"
  (removeActivated)="onRemove()"
>
  <div class="recent-search-card__content">
    <div class="recent-search-card__route">
      <span class="recent-search-card__origin">{{ originName }}</span>
      <span class="recent-search-card__arrow" aria-hidden="true">â†’</span>
      <span class="recent-search-card__destination">{{ destinationName }}</span>
    </div>
    <div class="recent-search-card__date">
      {{ searchDateKey | translate: { date: (searchDate | date: 'longDate') } }}
    </div>
    <div class="recent-search-card__preview" [ngSwitch]="preview.status">
      <div
        *ngSwitchCase="'loading'"
        class="recent-search-card__loading"
        role="status"
        aria-live="polite"
      >
        <span class="recent-search-card__visually-hidden">{{ loadingKey | translate }}</span>
        <span class="recent-search-card__skeleton recent-search-card__skeleton--wide" aria-hidden="true"></span>
        <span class="recent-search-card__skeleton" aria-hidden="true"></span>
      </div>
      <div *ngSwitchCase="'error'" class="recent-search-card__status recent-search-card__status--error">
        {{ errorKey | translate }}
      </div>
      <div
        *ngSwitchCase="'disabled'"
        class="recent-search-card__status recent-search-card__status--disabled"
      >
        {{ previewDisabledKey | translate }}
      </div>
      <ng-container *ngSwitchCase="'ready'">
        <ng-container *ngIf="hasEntries(preview); else noPreview">
          <app-recent-search-preview-entry
            *ngFor="let entry of entries(preview); trackBy: trackByEntry"
            [entry]="entry"
          ></app-recent-search-preview-entry>
        </ng-container>
      </ng-container>
      <ng-template #noPreview>
        <div class="recent-search-card__status recent-search-card__status--empty">
          {{ noPreviewKey | translate }}
        </div>
      </ng-template>
    </div>
    <div *ngIf="showTodayNotice" class="recent-search-card__today">
      {{ searchDateTodayKey | translate }}
    </div>
  </div>
</app-interactive-card>
