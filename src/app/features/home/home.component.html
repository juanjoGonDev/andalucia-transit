<div class="home">
  <div class="home__content">
    <header class="home__header">
      <h1 class="home__title">{{ headerTitleKey | translate }}</h1>
      <button
        type="button"
        class="home__info-button"
        [attr.aria-label]="headerInfoLabelKey | translate"
      >
        <span class="material-symbols-outlined">{{ infoIcon }}</span>
      </button>
    </header>
    <main class="home__main">
      <app-section [titleKey]="searchTitleKey" appearance="card">
        <form class="home__search" [formGroup]="searchForm" (ngSubmit)="onSearch()">
          <div class="home__search-group">
            <label class="home__sr-only" [for]="originFieldId">{{ searchOriginLabelKey | translate }}</label>
            <span class="material-symbols-outlined home__search-icon">{{ originIconName }}</span>
            <input
              class="home__search-input"
              type="text"
              [id]="originFieldId"
              formControlName="origin"
              [placeholder]="searchOriginPlaceholderKey | translate"
              autocomplete="off"
            />
          </div>
          <div class="home__search-group">
            <label class="home__sr-only" [for]="destinationFieldId">
              {{ searchDestinationLabelKey | translate }}
            </label>
            <span class="material-symbols-outlined home__search-icon">{{ destinationIconName }}</span>
            <input
              class="home__search-input"
              type="text"
              [id]="destinationFieldId"
              formControlName="destination"
              [placeholder]="searchDestinationPlaceholderKey | translate"
              autocomplete="off"
            />
          </div>
          <div class="home__search-group">
            <label class="home__sr-only" [for]="dateFieldId">{{ searchDateLabelKey | translate }}</label>
            <span class="material-symbols-outlined home__search-icon">{{ dateIconName }}</span>
            <input
              class="home__search-input"
              type="date"
              [id]="dateFieldId"
              formControlName="date"
              [attr.min]="minSearchDate"
            />
          </div>
          <button class="home__search-submit" type="submit">{{ searchSubmitKey | translate }}</button>
        </form>
      </app-section>
      <app-section [titleKey]="recentStopsTitleKey">
        <div class="home__recent-scroll">
          <article *ngFor="let stop of recentStopCards" class="home__recent-card">
            <div
              class="home__recent-image"
              role="img"
              [attr.aria-label]="stop.titleKey | translate"
              [style.background-image]="'url(' + stop.imageUrl + ')'"
            ></div>
            <p class="home__recent-title">{{ stop.titleKey | translate }}</p>
          </article>
        </div>
      </app-section>
      <app-section [titleKey]="findNearbyTitleKey">
        <app-card-list-item
          [leadingIcon]="locationAction.leadingIcon"
          [titleKey]="locationAction.titleKey"
          [layout]="locationAction.layout ?? 'list'"
          [iconVariant]="locationAction.iconVariant ?? 'plain'"
          [trailingIcon]="trailingIcon"
          [ariaLabelKey]="locationAction.ariaLabelKey"
          (action)="openNearbyStopsDialog()"
        ></app-card-list-item>
      </app-section>
      <app-section [titleKey]="favoritesTitleKey">
        <div class="home__list">
          <app-card-list-item
            *ngFor="let stop of favoriteStops"
            [leadingIcon]="stop.leadingIcon"
            [titleKey]="stop.titleKey"
            [subtitleKey]="stop.subtitleKey"
            [iconVariant]="stop.iconVariant ?? 'plain'"
            [trailingIcon]="trailingIcon"
            [commands]="stop.commands"
          ></app-card-list-item>
        </div>
      </app-section>
    </main>
  </div>
  <footer class="home__footer">
    <nav class="home__bottom-nav">
      <a
        *ngFor="let item of bottomNavigationItems"
        class="home__bottom-nav-item"
        [routerLink]="item.commands"
        routerLinkActive="home__bottom-nav-item--active"
        [routerLinkActiveOptions]="{ exact: true }"
        #link="routerLinkActive"
        [attr.aria-current]="link.isActive ? 'page' : null"
      >
        <span class="material-symbols-outlined">{{ item.icon }}</span>
        <span class="home__bottom-nav-label">{{ item.labelKey | translate }}</span>
      </a>
    </nav>
  </footer>
</div>
